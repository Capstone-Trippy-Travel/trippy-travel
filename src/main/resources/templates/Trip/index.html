<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/header :: header(${'trips-index-page'})"></head>
<body>
<nav th:replace="fragments/navbar :: navbar( ${friendRequests} )"></nav>

<div sec:authorize="isAuthenticated()">

    <h1>Welcome</h1>

    <img src=" https://cdn.filestackcontent.com/7o0pCn7cRy2y1Ijh5xOt" alt="...">


    <h2 th:text="${#authentication.principal.username}"></h2>


</div>


<br>
<br>

<main class="container" >
    <h1>Latest Trips</h1>


        <div class="row g-2 " >

            <div class="card col-4 " th:each="trip: ${trips}" style="width: 30rem;  margin-bottom: 10px ;margin-right: 5px;">

<!--cant get image to show -->
                <div class="card-header">
                    <a th:href="${'/trip/'+trip.getId()}"><h1 th:text="${trip.name}" class="card-title"></h1></a>

                </div>
                <img th:src="${trip.getImages().get(0).getImage_url()}" th:if="${trip.getImages().size()>0}" class="card-img-top" style="height: 150px" alt="...">
                <div class="card-body" >





                    <p th:text="${trip.description}" class="card-text"></p>
                    <p th:text="${trip.location}" class="card-text"></p>

<!--                    figure out how to target the group name -->
<!--                    <p th:text="${trip.group.name}" class="card-text"></p>-->
                    <p th:text="${trip.startDate}" class="card-text"></p>
                    <p th:text="${trip.endDate}" class="card-text"></p>
                    <p th:text="${trip.status}" class="card-text"></p>


                </div>
            </div>
        </div>

    </div>
</main>
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>