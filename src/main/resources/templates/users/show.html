<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head th:replace="fragments/header :: header('Show User')">
</head>

<body>

<div th:replace="fragments/navbar :: navbar"></div>

<div class="container">
    <div class="row">
        <div class="col l10 offset-2" th:object="${user}">
            <h2>User Profile</h2>
                <h5>Users info:</h5>
                <div class="card">
                    <div class="card-content">
                        Username: <p th:text="*{username}"></p>
                    Email: <p th:text="*{email}"></p>
                    <a th:if="${showEditControls}" class="btn red" th:href="@{/users/{id}/edit(id=${user.id}) }">Edit user</a>

                    <div sec:authorize="isAuthenticated()">
                        This content is only shown to authenticated users. <br/>

                        Logged user: <span sec:authentication="name"></span> <br/>
                        Existing Roles: <span sec:authentication="principal.authorities"></span> <br/>

                        <div sec:authorize="hasRole('ROLE_ADMIN')">
                            <div> show these for only for admins </div>
                        </div>

                        <div sec:authorize="hasRole('ROLE_USER')">
                            <div> show these for only for users </div>
                        </div>

                        <div sec:authorize="hasRole('ROLE_GUEST')">
                            <div> show these for only for Guest </div>
                        </div>

                    </div><!--Auth-->
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>